<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{member/layouts/layout}">
	<th:block layout:fragment="customJs">
		<script type="text/javascript">
			$(document).ready(function () {
			    $('#NoticeAnswer').on('show.bs.modal', function (event) {
			        var button = $(event.relatedTarget);  // 모달을 연 버튼
			        var questionCode = button.data('question-code');  // questionCode 가져오기
			        var inputQuestionCode = $(this).find('input[name="questionCode"]');
			        
			        if (inputQuestionCode.length) {
			            inputQuestionCode.val(questionCode);  // 모달의 숨겨진 필드에 설정
			        }
			    });
			});
		</script>
   	</th:block>

    <th:block layout:fragment="customContent">
        <div class="container mb-30">
            <div class="row">
                <div class="col-xl-10 col-lg-12 m-auto">
                    <div class="product-detail accordion-detail" th:object="${noticeDetail}">
                        <div class="row mb-50 mt-30" >
                            <div class="col-md-6 col-sm-12 col-xs-12">
                                <div class="detail-info pr-30 pl-30">
                                    <span class="stock-status out-stock" th:if="*{honorMentor == 'Y'}"> 명예멘토 </span>
                                    <span class="stock-status out-stock" th:unless="*{honorMentor == 'Y'}"> 일반멘토 </span>
                                    <h2 class="title-detail" th:text="*{noticeTitle}"></h2>
                                    <div class="product-detail-rating">
                                        <div class="text-end">
                                                <span class="font-md ml-15" th:text="*{'ID : ' + memberId}"></span>
                                            <span class="font-small ml-5 text-muted"><a href="/review/mentorReviewList">(32 reviews)</a></span>
                                        </div>
                                    </div>
                                    <div class="short-desc mb-30">
	                                   	<p class="font-md ml-15" th:text="*{'1회 멘토링 : '+ noticeUntprc +'원'}"></p>                                    
	                                   	<p class="font-md ml-15" th:text="*{'분야 : ' + topicName}"></p>                                    
	                                   	<p class="font-md ml-15" th:text="*{'현직 : ' + mentorPowkName}"></p>
                                    </div>
                                    <div class="detail-extralink mb-50">
                                   		<a class="button button-add-to-cart" data-bs-toggle="modal" data-bs-target="#MentoringApply">신청하기</a>
	                                    <a th:href="@{/mentoring/apply(noticeCode=*{noticeCode})}" class="button button-add-to-cart"><i class="fi-rs-shopping-cart"></i>신청하기</a>                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:insert="~{member/mentoring/modal/mentoringApplyModal :: MentoringApply}"></div>
                        <div class="product-info">
                            <div class="tab-style3">
                                <ul class="nav nav-tabs text-uppercase">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="Description-tab" data-bs-toggle="tab" href="#Description">Description</a>
                                    </li>                                 
                                    <li class="nav-item">
                                        <a class="nav-link" id="Reviews-tab" data-bs-toggle="tab" href="#QnA">QnA (3)</a>
                                    </li>
                                </ul>
                                <div class="tab-content shop_info_tab entry-main-content">
                                    <div class="tab-pane fade show active" id="Description">
                                        <div class="">
											<h4 class="mt-30">소개</h4>
                                            <ul class="product-more-infor mt-30">
                                                <li th:text=*{noticeContent}>HTML과 CSS에 관심이 있거나, 웹 개발을 시작하려는 분들을 위한 멘토링 프로그램을 모집합니다. 본 멘토링에서는 웹 페이지 제작의 기초부터 실전 프로젝트까지 함께 다루며, 실력을 쌓아갈 수 있는 기회를 제공합니다.</li>
                                            </ul>
											<hr class="wp-block-separator is-style-wide" />
											<h4 class="mt-30">멘토링 가능 일자</h4>
											<ul class="product-more-infor mt-30">
	                                            <li th:text=*{mentoringPeriod}>2024-11-01 ~ 2024-11-04</li>
	                                        </ul>
                                            <hr class="wp-block-separator is-style-wide" />
                                            <h4 class="mt-30">멘토링 가능 시간</h4>
                                            <ul class="product-more-infor mt-30" th:each="m : ${mentoringTime}">   
                                                <li th:text="${m.mentoringTime}"></li>
                                            </ul>                                                                                       
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="QnA">
                                        <!--Comments-->
                                        <div class="comments-area">
                                            <div class="row">
                                                <div class="col-lg-8">
                                                    <h4 class="mb-30">Customer questions & answers</h4>
                                                    <div class="comment-list">
	                                                    <div class="single-comment" th:each="nqa : ${noticeQnA}">
	                                                        <div class="single-comment justify-content-between d-flex mb-30">
	                                                            <div class="user justify-content-between d-flex">
	                                                                <div class="thumb text-center">
	                                                                    <a href="#" class="font-heading text-brand" th:text="${nqa.memberId}"></a>
	                                                                </div>
	                                                                <div class="desc">
	                                                                    <div class="d-flex justify-content-between mb-10">
	                                                                        <div class="d-flex align-items-center">
	                                                                            <span class="font-xs text-muted" th:text="${nqa.questionYmd}"></span>
	                                                                        </div>
	                                                                    </div>
	                                                                    <p class="mb-10" th:text="${nqa.questionContent}"></p>
		                                                                <a class="collapsed"data-bs-toggle="modal" data-bs-target="#NoticeAnswer" th:attr="data-question-code=${nqa.questionCode}">답변하기</a>
	                                                                </div>                                                             
	                                                            </div>                                                           
	                                                        </div>
	                                                        <div class="single-comment justify-content-between d-flex mb-30 ml-30" th:if="${nqa.noticeAnswer != null}">
	                                                            <div class="user justify-content-between d-flex" >
	                                                                <div class="thumb text-center">
	                                                                    <a href="#" class="font-heading text-brand" th:text="${nqa.noticeAnswer.mentorId}"></a>
	                                                                </div>
	                                                                <div class="desc">
	                                                                    <div class="d-flex justify-content-between mb-10">
	                                                                        <div class="d-flex align-items-center">
	                                                                            <span class="font-xs text-muted" th:text="${nqa.noticeAnswer.answerYmd}"></span>
	                                                                        </div>
	                                                                    </div>
	                                                                    <p class="mb-10" th:text="${nqa.noticeAnswer.answerContent}">
	                                                                    </p>
	                                                                </div>
	                                                            </div>
	                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <a class="btn btn-block mt-30"data-bs-toggle="modal" data-bs-target="#NoticeQuestion">등록하기</a>
                                        <div th:insert="~{member/mentoring/modal/noticeQuestionModal :: NoticeQuestion}"></div>
                                        <div th:insert="~{member/mentoring/modal/noticeAnswerModal :: NoticeAnswer}"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
		</div>
    </th:block>
</html>